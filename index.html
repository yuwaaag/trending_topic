<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <title>PTN News - Auto Analysis</title>
    <style>
        body { margin: 0; background: #000; color: white; font-family: 'Segoe UI', sans-serif; overflow: hidden; }
        .studio { position: relative; width: 1920px; height: 1080px; }
        .news-screen { position: absolute; left: 80px; top: 100px; width: 880px; height: 500px; border: 4px solid #00f2ff; border-radius: 15px; overflow: hidden; background: #111; box-shadow: 0 0 30px rgba(0,242,255,0.4); }
        #newsImg { width: 100%; height: 100%; object-fit: cover; }
        .analysis-box { position: absolute; left: 80px; bottom: 80px; width: 850px; background: rgba(0,8,25,0.95); border-left: 15px solid #ff0000; padding: 35px; border-radius: 0 20px 20px 0; min-height: 400px; box-sizing: border-box; }
        h1 { color: #00f2ff; font-size: 38px; margin: 0 0 15px 0; }
        p { font-size: 32px; line-height: 1.6; font-weight: 500; }
        .anchor-zone { position: absolute; right: 0; bottom: 0; width: 950px; height: 1080px; }
        video { width: 100%; height: 100%; object-fit: contain; }
    </style>
</head>
<body>

<div class="studio">
    <div class="news-screen"><img id="newsImg" src="https://image.pollinations.ai/prompt/breaking%20news%20digital%20background?nologo=true"></div>
    <div class="analysis-box">
        <h1 id="headline">‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...</h1>
        <p id="content">AI ‡§Æ‡•â‡§°‡§≤ ‡§∏‡•á ‡§§‡§æ‡§ú‡§º‡§æ ‡§ñ‡§¨‡§∞‡•á‡§Ç ‡§ñ‡•ã‡§ú‡•Ä ‡§ú‡§æ ‡§∞‡§π‡•Ä ‡§π‡•à‡§Ç‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§™‡§∞ ‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§</p>
    </div>
    <div class="anchor-zone"><video id="anchorVid" muted loop><source src="anchor_video.mp4" type="video/mp4"></video></div>
</div>

<script>
    // üî¥ ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡•Ä ‡§¨‡§ø‡§≤‡•ç‡§ï‡•Å‡§≤ ‡§®‡§à API Key ‡§°‡§æ‡§≤‡•á‡§Ç (‡§™‡•Å‡§∞‡§æ‡§®‡•Ä ‡§µ‡§æ‡§≤‡•Ä ‡§¨‡•ç‡§≤‡•â‡§ï ‡§π‡•ã ‡§ö‡•Å‡§ï‡•Ä ‡§π‡•à)
    const API_KEY = "AIzaSyB0rTzlgnkcJn02amykEQ_edXkEs1qtm14"; 

    async function startAutoNews() {
        const headline = document.getElementById('headline');
        const content = document.getElementById('content');
        
        // üü¢ Gemini 1.5 Flash - ‡§∏‡§¨‡§∏‡•á ‡§∏‡•ç‡§ü‡•á‡§¨‡§≤ ‡§î‡§∞ ‡§§‡•á‡§ú‡§º ‡§Æ‡•â‡§°‡§≤
        const aiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`;

        try {
            // ‡§∏‡•ç‡§ü‡•á‡§™ 1: ‡§Ü‡§ú ‡§ï‡§æ ‡§ü‡•ç‡§∞‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó ‡§ü‡•â‡§™‡§ø‡§ï ‡§ú‡§æ‡§®‡§®‡§æ
            const topicRes = await fetch(aiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: "Give me one current trending news topic in India for today. Just the topic name." }] }] })
            });
            const topicData = await topicRes.json();
            const topic = topicData.candidates[0].content.parts[0].text.trim();
            
            headline.innerText = "BREAKING NEWS: " + topic;
            document.getElementById('newsImg').src = `https://image.pollinations.ai/prompt/news%20report%20on%20${encodeURIComponent(topic)}?width=880&height=500&nologo=true`;

            // ‡§∏‡•ç‡§ü‡•á‡§™ 2: ‡§â‡§∏ ‡§ü‡•â‡§™‡§ø‡§ï ‡§™‡§∞ 150 ‡§∂‡§¨‡•ç‡§¶‡•ã‡§Ç ‡§ï‡§æ ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ (Deep Analysis)
            const analysisPrompt = `Aap ek senior news analyst hain. Topic "${topic}" par 150 words ka gehra news analysis Hindi mein likhein. Isme impact aur facts batayein. Shuruat 'Namaskar' se karein.`;

            const analysisRes = await fetch(aiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: analysisPrompt }] }] })
            });
            const analysisData = await analysisRes.json();
            const finalScript = analysisData.candidates[0].content.parts[0].text.trim();

            speak(finalScript);

        } catch (e) {
            content.innerText = "‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§´‡•á‡§≤! ‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§ï ‡§®‡§à API Key ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç ‡§ï‡•ç‡§Ø‡•ã‡§Ç‡§ï‡§ø ‡§Ü‡§™‡§ï‡•Ä ‡§™‡•Å‡§∞‡§æ‡§®‡•Ä Key ‡§ï‡•ã ‡§ó‡•Ç‡§ó‡§≤ ‡§®‡•á ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§ï‡§æ‡§∞‡§£‡•ã‡§Ç ‡§∏‡•á ‡§¨‡•ç‡§≤‡•â‡§ï ‡§ï‡§∞ ‡§¶‡§ø‡§Ø‡§æ ‡§π‡•à‡•§";
            console.error(e);
        }
    }

    function speak(txt) {
        document.getElementById('content').innerText = txt;
        window.speechSynthesis.cancel();
        const msg = new SpeechSynthesisUtterance(txt);
        msg.lang = 'hi-IN';
        msg.rate = 0.9;
        const video = document.getElementById('anchorVid');
        
        msg.onstart = () => video.play();
        msg.onend = () => {
            video.pause();
            // 30 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§¨‡§æ‡§¶ ‡§Ö‡§ó‡§≤‡•Ä ‡§ñ‡§¨‡§∞ ‡§ñ‡•Å‡§¶ ‡§ñ‡•ã‡§ú‡•á‡§ó‡§æ
            setTimeout(startAutoNews, 30000); 
        };
        window.speechSynthesis.speak(msg);
    }

    window.onclick = () => startAutoNews();
</script>
</body>
</html>
