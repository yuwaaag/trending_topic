<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <title>PTN News - Final Success Studio</title>
    <style>
        /* ‡§™‡•Ç‡§∞‡•á ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§ï‡•Ä ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó */
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            background: #000; font-family: 'Segoe UI', sans-serif; 
            overflow: hidden; color: white;
        }

        /* ‡§∏‡•ç‡§ü‡•Ç‡§°‡§ø‡§Ø‡•ã ‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§° - ‡§Ø‡§π ‡§Ö‡§¨ ‡§™‡•Ç‡§∞‡•á ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§™‡§∞ ‡§¶‡§ø‡§ñ‡•á‡§ó‡§æ */
        .studio-bg { 
            position: absolute; width: 100%; height: 100%; 
            background: url('studio.jpg') no-repeat center center; 
            background-size: cover; z-index: 1; 
        }

        /* ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§´‡•ã‡§ü‡•ã ‡§°‡§ø‡§∏‡•ç‡§™‡•ç‡§≤‡•á - ‡§≤‡•á‡§´‡•ç‡§ü ‡§∏‡§æ‡§á‡§° ‡§Æ‡•á‡§Ç ‡§ä‡§™‡§∞ */
        .display-unit { 
            position: absolute; left: 50px; top: 80px; 
            width: 750px; height: 420px; 
            border: 5px solid #00f2ff; border-radius: 15px; 
            z-index: 10; overflow: hidden; background: #111;
            box-shadow: 0 0 30px rgba(0,242,255,0.5);
        }
        #newsImg { width: 100%; height: 100%; object-fit: cover; }

        /* ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§π‡•á‡§°‡§≤‡§æ‡§á‡§® ‡§î‡§∞ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§¨‡•â‡§ï‡•ç‡§∏ - ‡§®‡•Ä‡§ö‡•á ‡§ï‡•Ä ‡§§‡§∞‡§´ */
        .analysis-box { 
            position: absolute; left: 50px; bottom: 50px; 
            width: 850px; min-height: 350px;
            background: rgba(0, 10, 30, 0.9); 
            border-left: 15px solid #ff0000; 
            padding: 30px; z-index: 15; 
            border-radius: 0 20px 20px 0;
            box-sizing: border-box;
        }
        #headline { color: #00f2ff; font-size: 38px; margin: 0 0 15px 0; text-transform: uppercase; }
        #content { font-size: 30px; line-height: 1.5; color: #fff; }

        /* ‡§è‡§Ç‡§ï‡§∞ ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã - ‡§∞‡§æ‡§á‡§ü ‡§∏‡§æ‡§á‡§° ‡§Æ‡•á‡§Ç */
        .anchor-zone { 
            position: absolute; right: 0; bottom: 0; 
            width: 900px; height: 100%; 
            z-index: 5; display: flex; align-items: flex-end;
        }
        #anchorVid { width: 100%; height: 90%; object-fit: contain; }
    </style>
</head>
<body>

<div class="studio-bg"></div>

<div class="display-unit">
    <img id="newsImg" src="">
</div>

<div class="analysis-box">
    <h1 id="headline">PTN ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£</h1>
    <p id="content">‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç...</p>
</div>

<div class="anchor-zone">
    <video id="anchorVid" muted loop><source src="anchor_video.mp4" type="video/mp4"></video>
</div>

<script>
    // üî¥ ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡•Ä API Key ‡§°‡§æ‡§≤‡•á‡§Ç
    const API_KEY = "AIzaSyB0rTzlgnkcJn02amykEQ_edXkEs1qtm14"; 

    async function startPTNNews() {
        const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${API_KEY}`;
        
        try {
            // 1. ‡§ü‡•ç‡§∞‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó ‡§ñ‡§¨‡§∞
            const resTopic = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: "Top 1 trending news topic in India today." }] }] })
            });
            const dataTopic = await resTopic.json();
            const topic = dataTopic.candidates[0].content.parts[0].text.trim();
            
            document.getElementById('headline').innerText = "BREAKING: " + topic;
            document.getElementById('newsImg').src = `https://image.pollinations.ai/prompt/professional%20news%20visual%20for%20${encodeURIComponent(topic)}?nologo=true`;

            // 2. ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£
            const resAnalysis = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: `Aap news analyst hain. Topic "${topic}" par 120 words ka news analysis Hindi mein likhein. Namaskar se shuru karein.` }] }] })
            });
            const dataAnalysis = await resAnalysis.json();
            const script = dataAnalysis.candidates[0].content.parts[0].text;
            
            speakText(script);
        } catch (e) {
            document.getElementById('content').innerText = "Error! ‡§ö‡•á‡§ï ‡§ï‡§∞‡•á‡§Ç ‡§ï‡§ø studio.jpg ‡§î‡§∞ ‡§è‡§Ç‡§ï‡§∞ ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§∏‡§π‡•Ä ‡§®‡§æ‡§Æ ‡§∏‡•á ‡§π‡•à‡§Ç‡•§";
        }
    }

    function speakText(txt) {
        document.getElementById('content').innerText = txt;
        window.speechSynthesis.cancel();
        const msg = new SpeechSynthesisUtterance(txt);
        msg.lang = 'hi-IN';
        msg.rate = 0.9;
        
        const v = document.getElementById('anchorVid');
        msg.onstart = () => v.play();
        msg.onend = () => {
            v.pause();
            setTimeout(startPTNNews, 15000);
        };
        window.speechSynthesis.speak(msg);
    }

    window.onclick = () => startPTNNews();
</script>
</body>
</html>
