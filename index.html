<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <title>PTN News - Final Success</title>
    <style>
        body { margin: 0; background: #000; color: white; font-family: 'Segoe UI', sans-serif; overflow: hidden; }
        .studio { position: relative; width: 1920px; height: 1080px; }
        .main-screen { position: absolute; left: 50px; top: 100px; width: 850px; height: 480px; border: 4px solid #00f2ff; border-radius: 15px; overflow: hidden; background: #111; }
        #newsImg { width: 100%; height: 100%; object-fit: cover; }
        .news-box { position: absolute; left: 50px; bottom: 80px; width: 800px; background: rgba(0,8,25,0.95); border-left: 15px solid #00f2ff; padding: 30px; border-radius: 0 20px 20px 0; min-height: 380px; box-sizing: border-box; }
        h1 { color: #00f2ff; font-size: 40px; margin: 0 0 15px 0; }
        p { font-size: 32px; line-height: 1.5; font-weight: 500; }
        .anchor-zone { position: absolute; right: 0; bottom: 0; width: 1000px; height: 1080px; }
        video { width: 100%; height: 100%; object-fit: contain; }
    </style>
</head>
<body>

<div class="studio">
    <div class="main-screen">
        <img id="newsImg" src="https://image.pollinations.ai/prompt/breaking%20news%20india%20digital?nologo=true">
    </div>

    <div class="news-box">
        <h1 id="title">PTN News Analysis</h1>
        <p id="content">‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à‡•§ <br><br> <span style="color:yellow;">‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Æ‡§æ‡§â‡§∏ ‡§∏‡•á ‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§Ø‡§π‡§æ‡§Å ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§</span></p>
    </div>

    <div class="anchor-zone">
        <video id="anchorVid" muted loop><source src="anchor_video.mp4" type="video/mp4"></video>
    </div>
</div>

<script>
    // üî¥ ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡•Ä ‡§¨‡§ø‡§≤‡•ç‡§ï‡•Å‡§≤ ‡§®‡§à API Key ‡§°‡§æ‡§≤‡•á‡§Ç
    const API_KEY = "AIzaSyDx9F-atjd__NNWR8-TKGrWaY19CT7i5cg"; 

    // ‡§Ø‡•á ‡§µ‡•ã ‡§ü‡•â‡§™‡§ø‡§ï‡•ç‡§∏ ‡§π‡•à‡§Ç ‡§ú‡§ø‡§® ‡§™‡§∞ ‡§è‡§Ç‡§ï‡§∞ ‡§Ö‡§™‡§®‡•á ‡§Ü‡§™ ‡§¨‡•ã‡§≤‡•á‡§ó‡•Ä (‡§¨‡§ø‡§®‡§æ ‡§∂‡•Ä‡§ü ‡§ï‡•á)
    const autoTopics = [
        "Ayodhya Ram Mandir economic impact",
        "India's growing space mission and ISRO",
        "Upcoming major sports events in India",
        "Digital India and AI revolution in villages"
    ];
    let currentIdx = 0;

    async function runAutoNews() {
        const topic = autoTopics[currentIdx];
        document.getElementById('title').innerText = "‡§µ‡§ø‡§∂‡•á‡§∑ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£: " + topic;
        document.getElementById('content').innerText = "AI ‡§ó‡§π‡§∞‡§æ ‡§°‡•á‡§ü‡§æ ‡§ú‡•Å‡§ü‡§æ ‡§∞‡§π‡§æ ‡§π‡•à, ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡•á‡§Ç...";
        document.getElementById('newsImg').src = `https://image.pollinations.ai/prompt/professional%20news%20report%20on%20${encodeURIComponent(topic)}?width=850&height=480&nologo=true`;

        const promptText = `Aap ek senior news analyst hain. Topic "${topic}" par 150 words ka gehra aur vistaar se news analysis Hindi mein likhein. Isme facts aur bhavishya ki baat karein. Shuruat 'Namaskar' se karein. Sirf Hindi text dein.`;

        try {
            // Updated Stable Endpoint
            const url = `https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent?key=${API_KEY}`;
            
            const response = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: promptText }] }] })
            });

            const data = await response.json();
            
            if (data.candidates && data.candidates[0].content) {
                const script = data.candidates[0].content.parts[0].text.trim();
                playNews(script);
            } else {
                throw new Error("API Connection Failed");
            }
        } catch (e) {
            document.getElementById('content').innerHTML = "<span style='color:red;'>‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§è‡§∞‡§∞!</span><br>1. ‡§®‡§à API Key ‡§°‡§æ‡§≤‡•á‡§Ç‡•§<br>2. ‡§Ö‡§™‡§®‡§æ ‡§á‡§Ç‡§ü‡§∞‡§®‡•á‡§ü ‡§ö‡•á‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§";
        }
    }

    function playNews(txt) {
        document.getElementById('content').innerText = txt;
        window.speechSynthesis.cancel();
        
        const msg = new SpeechSynthesisUtterance(txt);
        msg.lang = 'hi-IN';
        msg.rate = 0.9;
        
        const video = document.getElementById('anchorVid');
        msg.onstart = () => video.play();
        msg.onend = () => {
            video.pause();
            currentIdx = (currentIdx + 1) % autoTopics.length;
            setTimeout(runAutoNews, 10000); // 10 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§¨‡§æ‡§¶ ‡§Ö‡§ó‡§≤‡•Ä ‡§ñ‡§¨‡§∞
        };
        window.speechSynthesis.speak(msg);
    }

    window.onclick = () => runAutoNews();
</script>
</body>
</html>
