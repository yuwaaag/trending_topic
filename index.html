<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <title>PTN News - Full Auto Pilot</title>
    <style>
        body { margin: 0; background: #000; color: white; font-family: 'Segoe UI', sans-serif; overflow: hidden; }
        .studio { position: relative; width: 1920px; height: 1080px; }
        .news-display { position: absolute; left: 80px; top: 120px; width: 850px; height: 480px; border: 4px solid #00f2ff; border-radius: 15px; overflow: hidden; box-shadow: 0 0 30px rgba(0,242,255,0.4); }
        #newsImg { width: 100%; height: 100%; object-fit: cover; transition: 2s; }
        .analysis-box { position: absolute; left: 80px; bottom: 80px; width: 820px; background: rgba(0,8,25,0.95); border-left: 15px solid #ff0000; padding: 35px; border-radius: 0 20px 20px 0; min-height: 350px; }
        h1 { color: #00f2ff; font-size: 35px; margin: 0 0 10px 0; font-weight: bold; }
        p { font-size: 32px; line-height: 1.5; margin: 0; }
        .anchor-zone { position: absolute; right: 0; bottom: 0; width: 950px; height: 1080px; }
        video { width: 100%; height: 100%; object-fit: contain; }
    </style>
</head>
<body>

<div class="studio">
    <div class="news-display"><img id="newsImg" src=""></div>
    <div class="analysis-box">
        <h1 id="headline">‡§ñ‡•ã‡§ú ‡§ú‡§æ‡§∞‡•Ä ‡§π‡•à...</h1>
        <p id="content">‡§á‡§Ç‡§ü‡§∞‡§®‡•á‡§ü ‡§∏‡•á ‡§ü‡•ç‡§∞‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó ‡§ñ‡§¨‡§∞‡•á‡§Ç ‡§®‡§ø‡§ï‡§æ‡§≤‡•Ä ‡§ú‡§æ ‡§∞‡§π‡•Ä ‡§π‡•à‡§Ç‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡•á‡§Ç...</p>
    </div>
    <div class="anchor-zone"><video id="anchorVid" muted loop><source src="anchor_video.mp4" type="video/mp4"></video></div>
</div>

<script>
    // üî¥ ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡•Ä ‡§¨‡§ø‡§≤‡•ç‡§ï‡•Å‡§≤ ‡§®‡§à API Key ‡§°‡§æ‡§≤‡•á‡§Ç
    const API_KEY = "AIzaSyDx9F-atjd__NNWR8-TKGrWaY19CT7i5cg"; 

    async function fetchAutoTrendingNews() {
        const headline = document.getElementById('headline');
        const content = document.getElementById('content');
        
        // Step 1: AI ‡§∏‡•á ‡§π‡•Ä ‡§™‡•Ç‡§õ‡§®‡§æ ‡§ï‡§ø ‡§Ü‡§ú ‡§ï‡§æ ‡§ü‡•ç‡§∞‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó ‡§ü‡•â‡§™‡§ø‡§ï ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à
        const findTopicPrompt = "Tell me one major trending news topic in India for today. Just the topic name in 5 words.";
        const aiUrl = `https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent?key=${API_KEY}`;

        try {
            const topicRes = await fetch(aiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: findTopicPrompt }] }] })
            });
            const topicData = await topicRes.json();
            const topic = topicData.candidates[0].content.parts[0].text.trim();
            
            headline.innerText = "BREAKING: " + topic;
            document.getElementById('newsImg').src = `https://image.pollinations.ai/prompt/high%20quality%20news%20visual%20for%20${encodeURIComponent(topic)}?width=850&height=480&nologo=true`;

            // Step 2: ‡§Ö‡§¨ ‡§â‡§∏ ‡§ü‡•â‡§™‡§ø‡§ï ‡§™‡§∞ ‡§ó‡§π‡§∞‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ (Deep Analysis) ‡§Æ‡§æ‡§Å‡§ó‡§®‡§æ
            const analysisPrompt = `Write a deep news analysis on "${topic}" in professional Hindi. At least 150 words. Focus on reasons and impact. Start with 'Namaskar'. No English.`;

            const analysisRes = await fetch(aiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: analysisPrompt }] }] })
            });
            const analysisData = await analysisRes.json();
            const finalScript = analysisData.candidates[0].content.parts[0].text.trim();

            speakNews(finalScript);

        } catch (e) {
            content.innerText = "‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§è‡§∞‡§∞! ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡•Ä API Key ‡§ö‡•á‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§";
        }
    }

    function speakNews(txt) {
        document.getElementById('content').innerText = txt;
        window.speechSynthesis.cancel();
        const msg = new SpeechSynthesisUtterance(txt);
        msg.lang = 'hi-IN';
        msg.rate = 0.9;
        const video = document.getElementById('anchorVid');
        
        msg.onstart = () => video.play();
        msg.onend = () => {
            video.pause();
            // 20 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§ï‡•á ‡§¨‡•ç‡§∞‡•á‡§ï ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§Ö‡§ó‡§≤‡•Ä ‡§§‡§æ‡§ú‡§º‡§æ ‡§ñ‡§¨‡§∞ ‡§ñ‡•Å‡§¶ ‡§ñ‡•ã‡§ú‡•á‡§ó‡§æ
            setTimeout(fetchAutoTrendingNews, 20000); 
        };
        window.speechSynthesis.speak(msg);
    }

    // ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§™‡§∞ ‡§ï‡§π‡•Ä‡§Ç ‡§≠‡•Ä ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§§‡•á ‡§π‡•Ä ‡§ë‡§ü‡•ã-‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã ‡§ú‡§æ‡§è‡§ó‡§æ
    window.onclick = () => fetchAutoTrendingNews();
</script>
</body>
</html>
