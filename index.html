<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <title>PTN News - 100% Automatic</title>
    <style>
        :root { --accent: #00f2ff; --dark: #000814; }
        body, html { margin: 0; padding: 0; width: 1920px; height: 1080px; overflow: hidden; background: #000; font-family: 'Segoe UI', sans-serif; color: white; }
        .studio-bg { position: absolute; width: 100%; height: 100%; background: url('studio.jpg') no-repeat center center; background-size: cover; z-index: 1; filter: brightness(0.7); }
        
        /* ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§°‡§ø‡§∏‡•ç‡§™‡•ç‡§≤‡•á */
        .display-unit { position: absolute; left: 80px; top: 100px; width: 880px; height: 520px; border: 4px solid var(--accent); z-index: 10; border-radius: 15px; overflow: hidden; background: #111; box-shadow: 0 0 40px rgba(0,242,255,0.3); }
        #trendImg { width: 100%; height: 100%; object-fit: cover; transition: 1s; }
        
        /* ‡§π‡•á‡§°‡§≤‡§æ‡§á‡§® ‡§™‡§ü‡•ç‡§ü‡•Ä */
        .headline-bar { position: absolute; bottom: 0; width: 100%; background: linear-gradient(90deg, #ff0000, #990000); padding: 15px; font-size: 35px; font-weight: bold; border-top: 3px solid white; color: white; text-transform: uppercase; }

        /* ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§¨‡•â‡§ï‡•ç‡§∏ */
        .analysis-box { position: absolute; left: 80px; bottom: 80px; width: 850px; background: rgba(0, 8, 25, 0.95); border-left: 12px solid var(--accent); padding: 35px; font-size: 32px; z-index: 15; border-radius: 0 25px 25px 0; line-height: 1.5; min-height: 350px; box-sizing: border-box; }
        
        .anchor-container { position: absolute; right: 0; bottom: 0; width: 950px; height: 1080px; z-index: 5; }
        #anchorVideo { width: 100%; height: 100%; object-fit: contain; }
        
        .loader-text { color: var(--accent); font-style: italic; }
    </style>
</head>
<body>

<div class="studio-bg"></div>

<div class="display-unit">
    <img id="trendImg" src="https://image.pollinations.ai/prompt/breaking%20news%20digital%20background?width=880&height=520&nologo=true">
    <div class="headline-bar" id="headline">‡§ñ‡•ã‡§ú ‡§ú‡§æ‡§∞‡•Ä ‡§π‡•à...</div>
</div>

<div class="analysis-box" id="analysisText">
    <span class="loader-text">PTN ‡§®‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§ë‡§ü‡•ã‡§Æ‡•à‡§ü‡§ø‡§ï ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à... <br>‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è 'Interact' ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§</span>
</div>

<div class="anchor-container">
    <video id="anchorVideo" muted loop playsinline><source src="anchor_video.mp4" type="video/mp4"></video>
</div>

<script>
    const API_KEY = "AIzaSyBO367SRvqQddL-ZRhpXZ38N_GkYZk6PnU"; 

    async function fetchAutoNews() {
        document.getElementById('analysisText').innerHTML = "<span class='loader-text'>‡§ó‡•Ç‡§ó‡§≤ ‡§î‡§∞ ‡§ü‡•ç‡§µ‡§ø‡§ü‡§∞ ‡§∏‡•á ‡§§‡§æ‡§ú‡§º‡§æ ‡§ñ‡§¨‡§∞‡•á‡§Ç ‡§ñ‡•ã‡§ú‡•Ä ‡§ú‡§æ ‡§∞‡§π‡•Ä ‡§π‡•à‡§Ç...</span>";
        
        // üü¢ ‡§∏‡•ç‡§ü‡•á‡§™ 1: AI ‡§∏‡•á ‡§π‡•Ä ‡§™‡•Ç‡§õ‡§®‡§æ ‡§ï‡§ø ‡§≠‡§æ‡§∞‡§§ ‡§Æ‡•á‡§Ç ‡§Ö‡§≠‡•Ä ‡§ü‡•ç‡§∞‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à
        const topicPrompt = "Give me 1 current trending news topic in India for today. Just the topic name, nothing else. Example: Chandrayaan 4 update or Budget 2024.";
        
        try {
            const aiUrl = `https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent?key=${API_KEY}`;
            const res = await fetch(aiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: topicPrompt }] }] })
            });
            const data = await res.json();
            const trendingTopic = data.candidates[0].content.parts[0].text.trim();
            
            generateDeepAnalysis(trendingTopic);
        } catch (e) {
            document.getElementById('analysisText').innerText = "‡§á‡§Ç‡§ü‡§∞‡§®‡•á‡§ü ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§ö‡•á‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§";
        }
    }

    async function generateDeepAnalysis(topic) {
        document.getElementById('headline').innerText = "BREAKING: " + topic;
        document.getElementById('trendImg').src = `https://image.pollinations.ai/prompt/professional%20news%20visual%20of%20${encodeURIComponent(topic)}?width=880&height=520&nologo=true`;

        // üü¢ ‡§∏‡•ç‡§ü‡•á‡§™ 2: ‡§â‡§∏ ‡§ü‡•â‡§™‡§ø‡§ï ‡§™‡§∞ ‡§ó‡§π‡§∞‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§®‡§æ
        const analysisPrompt = `Aap PTN News analyst hain. Aaj ke trending topic "${topic}" par 150 words ka gehra news analysis Hindi mein likhein. Isme facts aur future impact batayein. Shuruat 'Namaskar' se karein. Sirf Hindi text.`;

        try {
            const aiUrl = `https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent?key=${API_KEY}`;
            const res = await fetch(aiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: analysisPrompt }] }] })
            });
            const data = await res.json();
            const finalScript = data.candidates[0].content.parts[0].text.trim();
            
            speak(finalScript);
        } catch (e) {
            console.error("Analysis Failed");
        }
    }

    function speak(txt) {
        document.getElementById('analysisText').innerText = txt;
        window.speechSynthesis.cancel();
        
        const msg = new SpeechSynthesisUtterance(txt);
        msg.lang = 'hi-IN';
        msg.rate = 0.92;
        
        const video = document.getElementById('anchorVideo');
        msg.onstart = () => video.play();
        msg.onend = () => {
            video.pause();
            // 30 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§¨‡§æ‡§¶ ‡§Ö‡§ó‡§≤‡•Ä ‡§§‡§æ‡§ú‡§º‡§æ ‡§ñ‡§¨‡§∞ ‡§ñ‡•Å‡§¶ ‡§ñ‡•ã‡§ú‡•á‡§ó‡§æ
            setTimeout(fetchAutoNews, 30000); 
        };
        window.speechSynthesis.speak(msg);
    }

    // ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ ‡§ë‡§ü‡•ã ‡§Æ‡•ã‡§° ‡§∂‡•Å‡§∞‡•Ç
    window.onclick = () => fetchAutoNews();
</script>
</body>
</html>
